% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/PWY_matrix.R
\name{PWY_matrix}
\alias{PWY_matrix}
\title{Create Pathway Feature Matrix}
\usage{
PWY_matrix(pwy_list, rank_table, cutoff = 0.05, value = "prob", verbose = TRUE)
}
\arguments{
\item{pwy_list}{A named list of data frames from loadingPWY_cellchat, where each element 
is a sample with columns: source, target, pathway, pval/prob}

\item{rank_table}{A data frame containing ranked pathways (output from screenPWY)}

\item{cutoff}{Significance cutoff threshold (default: 0.05)}

\item{value}{Type of values in pwy_list, "pval" or "prob" (default: "prob")}

\item{verbose}{Logical, whether to print progress messages (default: TRUE)}
}
\value{
A matrix with pathways as rows and samples as columns, containing 
        counts of source-target cell type pairs with significant pathway interactions
}
\description{
Creates a feature matrix where rows represent pathways and columns represent samples.
Each cell contains the count of source-target cell type pairs with significant 
pathway interactions in that sample. Output is formatted for downstream analysis with limma.
}
\examples{
\dontrun{
# Load pathway data from CellChat objects
PWY_list <- loadingPWY_cellchat(sample = sample, directory = directory, value = "prob")

# Screen for top pathways
pwy_rank_table <- screenPWY(pwy_list = PWY_list, type = "rank", threshold = 0.8,
                            cutoff = 0.05, value = "prob", all_pairs = FALSE)

# Create pathway feature matrix
pwy_matrix <- PWY_matrix(pwy_list = PWY_list, rank_table = pwy_rank_table, 
                         cutoff = 0.05, value = "prob")
}

}
